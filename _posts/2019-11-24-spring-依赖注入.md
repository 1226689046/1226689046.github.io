---
layout: post
title: Spring依赖注入
tags:
- spring
categories: spring
description: Spring的依赖注入
---

# Spring的依赖注入

其实就是给对象的属性赋值，通过IOC容器来进行管理

Spring提供了好几种的方式来给属性赋值

- **1) 通过构造函数**
- **2) 通过set方法给属性注入值**
- 3) p名称空间
- 4)自动装配(了解)
- **5) 注解**



#### 构造方法

```xml
<bean id="yilaiUserDao" class="yilaizhuru.UserDao"></bean><bean id="yilaiUserService" class="yilaizhuru.UserService">    
    <constructor-arg name="userDao" ref="yilaiUserDao"></constructor-arg>
</bean>
```

#### set方法

基本类型使用value 引用使用ref

```xml
<bean id="yilaiUserAction" class="yilaizhuru.UserAction">   
    <property name="userService" ref="yilaiUserService"/>
</bean>
```

#### 内部Bean

```xml
<bean id="userService" class="UserService">   
    <property name="userDao">      
        <bean id="userDao" class="UserDao"/>  
    </property>
</bean>
```

#### p名称空间

就是set的优化，优化了配置。不用昔日property节点

```xml
<bean id="yilaiUserAction" class="yilaizhuru.UserAction" p:userService-ref="yilaiUserService"/> 
```